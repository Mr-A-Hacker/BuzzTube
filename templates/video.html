{% extends "base.html" %}
{% block content %}

<div class="container">
  <div class="card">
    <!-- Video Title -->
    <h1 class="neon-text big-title">{{ v['title'] }}</h1>
    <p class="meta">Uploaded by {{ v['uploader'] }}</p>

    <!-- Video Player -->
    {% if v['filepath'] %}
      <video src="{{ v['filepath'] }}" controls width="100%" style="border-radius: 12px; box-shadow: 0 0 20px #6600ff;"></video>
    {% else %}
      <p class="flash warning">No video file available.</p>
    {% endif %}
  </div>

  <!-- Comments Section -->
  <div class="card">
    <h2 class="neon-text">Comments</h2>

    <!-- Comment Form -->
    <form method="POST">
      <label for="text">Add a comment</label>
      <textarea id="text" name="text" placeholder="Write your comment..." required></textarea>
      <button type="submit" class="btn">Post Comment</button>
    </form>

    <!-- Comment List -->
    <ul class="comment-list">
      {% for c in comments %}
        <li>
          <strong>{{ c['user'] }}</strong>: {{ c['text'] }}
          <span class="meta">Comment #{{ c['id'] }}</span>
        </li>
      {% else %}
        <li class="meta">No comments yet. Be the first to comment!</li>
      {% endfor %}
    </ul>
  </div>
</div>

{% endblock %}
