{% extends "base.html" %}
{% block content %}

<div class="container">
  <h1 class="neon-text">Settings</h1>

  <!-- Profile picture -->
  <div class="card">
    <h2 class="neon-text">Profile Picture</h2>
    {% if user.profile_pic %}
      <img src="{{ url_for('uploads', filename=user.profile_pic) }}" alt="Profile Picture" style="max-width:150px; border-radius:50%; margin-bottom:1rem;">
    {% else %}
      <p>No profile picture set.</p>
    {% endif %}
    <form method="post" action="{{ url_for('update_pic') }}" enctype="multipart/form-data">
      <input type="file" name="pic" accept="image/png,image/jpeg" required>
      <button type="submit" class="btn">Update Picture</button>
    </form>
  </div>

  <!-- Change password -->
  <div class="card">
    <h2 class="neon-text">Change Password</h2>
    <form method="post" action="{{ url_for('change_password') }}">
      <label for="old">Old Password</label>
      <input type="password" id="old" name="old" required>

      <label for="new">New Password</label>
      <input type="password" id="new" name="new" required>

      <button type="submit" class="btn">Change Password</button>
    </form>
  </div>
</div>

{% endblock %}
